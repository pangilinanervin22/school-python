import flet as ft
import ListQuestion


# def list_question(questions, function_params):
#     list = []
#     for question in questions:
#     return list


class QuizApp(ft.UserControl):

    # def createListQuestion(self, questions):
    #     listQuestion = []
    #     for question in questions:
    #         listQuestion.append(ft.FilledButton(text=question, data=question,
    #                                             width=300, on_click=self.my_function))
    # return listQuestion

    def build(self):
        self.listOfQuestion = ListQuestion.get_random_question()
        self.position = 0
        question_text = ft.Text(
            self.listOfQuestion[self.position]["question"])
        # choices = ft.Column(controls=list_question(
        #     self.listOfQuestion[self.position]["choices"]))

        def my_function(e: ft.TapEvent):
            print("hello world")

        def click_next(e: ft.TapEvent):
            current = self.listOfQuestion[self.position]
            question_text.value = current["question"]
            choices.controls = self.createListQuestion(
                current["choices"], my_function)
            self.position += 1
            self.update()

        return ft.Column([question_text, choices, ft.ElevatedButton("Add", on_click=click_next)])


class QuestionButton(ft.UserControl):
    def __init__(self, answer, function_params):
        super().__init__()
        self.counter = answer
        self.wew = function_params

    def build(self):
        def add_click(e):
            self.wew(self.counter)

        return ft.ElevatedButton("reset", on_click=add_click)

#
